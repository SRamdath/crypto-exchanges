(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{246:function(e,t,a){},247:function(e,t,a){},386:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(23),r=a.n(i),c=(a(246),a(247),a(117)),o=a(28),h=a(431),l=a(37),u=a.n(l),d=a(69),j=a(58),b=a(59),p=a(60),m=a(62),x=a(63),O=a(73),f=a(426),g=a(430),v=a(433),y=a(432),S=a(6),k=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e)).state=Object(O.a)({},e),n}return Object(b.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e="";return this.state.image&&(e=this.state.image.url),Object(S.jsx)(f.a,{className:"card",children:Object(S.jsx)(g.a,{children:Object(S.jsxs)(h.a,{container:!0,spacing:2,children:[Object(S.jsxs)(h.a,{item:!0,md:8,children:[Object(S.jsx)("span",{className:"cardTitle",children:this.state.data.name}),Object(S.jsxs)(y.a,{variant:"body2",color:"textSecondary",component:"p",children:["Symbols: ",this.state.data.data_symbols_count]})]}),Object(S.jsx)(h.a,{item:!0,md:4,children:Object(S.jsx)(v.a,{image:e,component:"img"})})]})})})}}]),a}(n.Component),C=a(434),D=a(443),T=a(437),w=a(435),E=a(206),_=a.n(E),I=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e)).state={data:[],images:{},searched:[],loader:!0,searchField:""},n.searchExchanges=n.searchExchanges.bind(Object(x.a)(n)),n}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json","X-CoinAPI-Key":"80C6091D-B3C8-44C3-A8FA-EC1C84DFF5D4"},e.next=3,fetch("https://rest.coinapi.io/v1/exchanges",{headers:t}).then((function(e){return e.json()})).catch((function(e){return console.error(e)}));case 3:return(a=e.sent).error&&(a=[]),e.next=7,fetch("https://rest.coinapi.io/v1/exchanges/icons/64",{headers:t}).then((function(e){return e.json()})).catch((function(e){return console.error(e)}));case 7:(n=e.sent).error&&(n={}),this.setState({data:a,images:n,searched:a,loader:!1});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"navigate",value:function(e,t){this.props.history.push({pathname:"/exchange/"+e,logo:t})}},{key:"searchExchanges",value:function(e){var t=this;e.preventDefault();var a=this.state.data.filter((function(e){return e.name.toLowerCase().includes(t.state.searchField.toLowerCase())}));this.setState({searched:a})}},{key:"render",value:function(){var e=this,t=[];return this.state.searched&&(t=this.state.searched.sort((function(e,t){return e.name.toLowerCase()>t.name.toLowerCase()?1:-1}))),Object(S.jsx)("div",{children:this.state.loader?Object(S.jsx)(h.a,{container:!0,direction:"row",justify:"center",alignItems:"center",children:Object(S.jsx)(h.a,{item:!0,children:Object(S.jsx)(C.a,{})})}):Object(S.jsxs)(w.a,{children:[Object(S.jsxs)("form",{onSubmit:this.searchExchanges,children:[Object(S.jsx)(D.a,{type:"search",placeholder:"Search Exchanges",onChange:function(t){return e.setState({searchField:t.target.value})}}),Object(S.jsx)(T.a,{type:"submit",variant:"outlined",size:"small",children:Object(S.jsx)(_.a,{fontSize:"large"})})]}),Object(S.jsxs)(h.a,{container:!0,spacing:3,children:[t.map((function(t){var a=e.state.images.find((function(e){return e.exchange_id===t.exchange_id}));return Object(S.jsx)(h.a,{item:!0,md:3,onClick:function(){return e.navigate(t.exchange_id,a)},children:Object(S.jsx)(k,{data:t,image:a})},t.exchange_id)})),0===this.state.searched.length&&Object(S.jsx)("p",{children:"Exchanges failed to load."})]})]})})}}]),a}(n.Component),L=Object(o.f)(I),F=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e)).state={},n}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(S.jsxs)("div",{children:[Object(S.jsx)("h1",{className:"pageTitle",children:"Crypto Exchanges"}),Object(S.jsx)(L,{})]})}}]),a}(n.Component),B=a(207),M=a.n(B),A=a(438),N=a(442),z=a(223),q=a(224),P=a(107),K=a(104),U=a(226),Y=a(444),H=a(446),Q=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(e){var n;Object(j.a)(this,a),n=t.call(this,e);var s=new Date,i=new Date(s.setMinutes(s.getMinutes()-s.getTimezoneOffset()));i=i.toISOString().slice(0,-5);var r=new Date(s.setSeconds(s.getSeconds()-10));return r=r.toISOString().slice(0,-5),n.state={exchangeId:"",exchange:{},logo:n.props.location.img||{},assets:{},loader:!0,loader2:!1,quote:"",base:"",limit:100,startTime:r,endTime:i,graphData:[],numTrades:0,graphNote:""},n.resetDates=n.resetDates.bind(Object(x.a)(n)),n.toggleExpand=n.toggleExpand.bind(Object(x.a)(n)),n.fetchSnapshot=n.fetchSnapshot.bind(Object(x.a)(n)),n}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t,a,n,s,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.name,a={"Content-Type":"application/json","X-CoinAPI-Key":"80C6091D-B3C8-44C3-A8FA-EC1C84DFF5D4"},e.next=4,fetch("https://rest.coinapi.io/v1/exchanges/"+t,{headers:a}).then((function(e){return e.json()})).catch((function(e){return console.error(e)}));case 4:return(n=e.sent).length>0&&(n=n[0]),e.next=8,fetch("https://rest.coinapi.io/v1/symbols/"+t,{headers:a}).then((function(e){return e.json()})).catch((function(e){return console.error(e)}));case 8:s=e.sent,i={},s.error||s.forEach((function(e){i[e.asset_id_base]||(i[e.asset_id_base]={}),i[e.asset_id_base][e.asset_id_quote]=e})),this.setState({exchangeId:t,exchange:n,symbols:s,assets:i,loader:!1});case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"navigate",value:function(){this.props.history.push({pathname:"/"})}},{key:"fetchSnapshot",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t,a,n,s,i,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loader2:!0}),t={"Content-Type":"application/json","X-CoinAPI-Key":"80C6091D-B3C8-44C3-A8FA-EC1C84DFF5D4"},a=this.state.limit,n=this.state.startTime,s=this.state.endTime,i=this.state.assets[this.state.base][this.state.quote].symbol_id,e.next=8,fetch("https://rest.coinapi.io/v1/trades/".concat(i,"/history?time_start=").concat(n,"&time_end=").concat(s,"&limit=").concat(a),{headers:t}).then((function(e){return e.json()})).catch((function(e){return console.error(e)}));case 8:if(r=e.sent,c=[],r.error){e.next=15;break}if(0!==r.length){e.next=14;break}return this.setState({graphNote:"No data available for this query.",loader2:!1}),e.abrupt("return");case 14:r.forEach((function(e){var t=new Date(e.time_exchange.split(".")[0]);if(c.length>0){var a=c[c.length-1];if(a.time===t)return void("BUY"===e.taker_side||"BUY_ESTIMATED"===e.taker_side?a.buy+=e.size:"SELL"!==e.taker_side&&"SELL_ESTIMATED"!==e.taker_side||(a.sell+=e.size))}var n={time:t,buy:0,sell:0,timeString:t.toISOString().split("T")[0]+"("+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()+")"};"BUY"===e.taker_side||"BUY_ESTIMATED"===e.taker_side?n.buy=e.size:"SELL"!==e.taker_side&&"SELL_ESTIMATED"!==e.taker_side||(n.sell=e.size),c.push(n)}));case 15:this.setState({graphData:c,graphNote:"Number of trades within this period: "+r.length,loader2:!1});case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"resetDates",value:function(){var e=new Date,t=new Date(e.setMinutes(e.getMinutes()-e.getTimezoneOffset()));t=t.toISOString().slice(0,-5);var a=new Date(e.setSeconds(e.getSeconds()-10));a=a.toISOString().slice(0,-5),this.setState({startTime:a,endTime:t})}},{key:"selectBase",value:function(e){e!==this.state.base&&this.setState({base:e,quote:""})}},{key:"selectQuote",value:function(e){this.setState({quote:e})}},{key:"selectStart",value:function(e){this.setState({startTime:e.target.value})}},{key:"selectEnd",value:function(e){this.setState({endTime:e.target.value})}},{key:"setLimit",value:function(e){this.setState({limit:e})}},{key:"toggleExpand",value:function(){this.setState({expand:!this.state.expand})}},{key:"render",value:function(){var e=this,t=Object.keys(this.state.assets).sort(),a=[];this.state.base.length>0&&(a=Object.keys(this.state.assets[this.state.base]).sort());var n=new Date(this.state.startTime)>new Date(this.state.endTime)||new Date(this.state.startTime)>new Date||0===this.state.base.length||0===this.state.quote.length;return Object(S.jsx)("div",{children:this.state.loader?Object(S.jsx)(h.a,{container:!0,direction:"row",justify:"center",alignItems:"center",children:Object(S.jsx)(h.a,{item:!0,children:Object(S.jsx)(C.a,{})})}):Object(S.jsxs)(w.a,{className:"cardDiv",children:[Object(S.jsxs)("div",{className:"exchangeHeader",children:[Object(S.jsx)(T.a,{className:"exchangeHeaderIcon",variant:"outlined",onClick:function(){return e.navigate()},children:Object(S.jsx)(M.a,{fontSize:"large"})}),Object(S.jsxs)("span",{children:[this.state.exchange.name," Trading"]})]}),Object(S.jsxs)(h.a,{container:!0,children:[Object(S.jsx)(h.a,{item:!0,md:3,children:Object(S.jsxs)(h.a,{container:!0,spacing:2,children:[Object(S.jsx)(h.a,{item:!0,children:Object(S.jsx)(Y.a,{id:"baseValue",options:t,getOptionLabel:function(e){return e},onChange:function(t,a){return e.selectBase(a)},style:{width:300},renderInput:function(e){return Object(S.jsx)(D.a,Object(O.a)(Object(O.a)({},e),{},{label:"Choose Base",variant:"outlined"}))}})}),Object(S.jsx)(h.a,{item:!0,children:Object(S.jsx)(Y.a,{id:"quoteValue",options:a,getOptionLabel:function(e){return e},onChange:function(t,a){return e.selectQuote(a)},style:{width:300},renderInput:function(e){return Object(S.jsx)(D.a,Object(O.a)(Object(O.a)({},e),{},{label:"Choose Quote",variant:"outlined"}))}})}),Object(S.jsx)(h.a,{item:!0,children:Object(S.jsx)(D.a,{id:"startTime",label:"Start Time",type:"datetime-local",variant:"outlined",value:this.state.startTime,onChange:function(t){return e.selectStart(t)},InputLabelProps:{shrink:!0}})}),Object(S.jsx)(h.a,{item:!0,children:Object(S.jsx)(D.a,{id:"endTime",label:"End Time",type:"datetime-local",variant:"outlined",value:this.state.endTime,onChange:function(t){return e.selectEnd(t)},InputLabelProps:{shrink:!0}})}),Object(S.jsxs)(h.a,{item:!0,xs:12,children:[Object(S.jsx)(y.a,{id:"discrete-slider",gutterBottom:!0,children:"Limit Results"}),Object(S.jsx)(H.a,{defaultValue:100,"aria-labelledby":"discrete-slider",valueLabelDisplay:"auto",step:100,marks:!0,min:100,max:2e3,onChangeCommitted:function(t,a){return e.setLimit(a)}})]}),Object(S.jsx)(h.a,{item:!0,children:Object(S.jsx)(T.a,{variant:"outlined",onClick:this.resetDates,children:"Reset Dates"})}),Object(S.jsx)(h.a,{item:!0,children:Object(S.jsx)(T.a,{disabled:n,variant:"outlined",onClick:this.fetchSnapshot,children:this.state.loader2?Object(S.jsx)(C.a,{}):"Fetch"})}),Object(S.jsxs)(h.a,{item:!0,children:[Object(S.jsx)("p",{style:{color:"red"},children:this.state.graphNote}),Object(S.jsx)("p",{children:Object(S.jsx)("i",{children:"The values of Buy and Sell on the graph refers to the unit of the Base that is chosen. The graph shows the amount of units of the chosen Base that was bought or sold within a particular second."})})]})]})}),Object(S.jsx)(h.a,{item:!0,md:9,children:Object(S.jsxs)(A.a,{width:730,height:500,data:this.state.graphData,margin:{top:5,right:30,left:20,bottom:5},children:[Object(S.jsx)(N.a,{strokeDasharray:"3 3"}),Object(S.jsx)(z.a,{dataKey:"timeString"}),Object(S.jsx)(q.a,{}),Object(S.jsx)(P.a,{}),Object(S.jsx)(K.a,{}),Object(S.jsx)(U.a,{type:"monotone",dataKey:"buy",stroke:"#8884d8"}),Object(S.jsx)(U.a,{type:"monotone",dataKey:"sell",stroke:"#82ca9d"})]})})]})]})})}}]),a}(n.Component),V=Object(o.f)(Q);var X=function(){return console.log("/crypto-exchanges"),Object(S.jsx)(c.a,{basename:"/crypto-exchanges",children:Object(S.jsx)(h.a,{container:!0,children:Object(S.jsxs)(w.a,{children:[Object(S.jsx)(o.c,{children:Object(S.jsx)(o.a,{exact:!0,path:"/",children:Object(S.jsx)(F,{})})}),Object(S.jsx)(o.c,{children:Object(S.jsx)(o.a,{exact:!0,path:"/exchange/:name",children:Object(S.jsx)(V,{})})})]})})})},J=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,447)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,i=t.getLCP,r=t.getTTFB;a(e),n(e),s(e),i(e),r(e)}))};r.a.render(Object(S.jsx)(s.a.StrictMode,{children:Object(S.jsx)(X,{})}),document.getElementById("root")),J()}},[[386,1,2]]]);
//# sourceMappingURL=main.c02b7952.chunk.js.map